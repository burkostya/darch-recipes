#!/bin/bash
set -e

. /usr/local/src/install_aur

# browser stage
pacman -Sy
pacman -S --noconfirm --needed firefox
pacman -S --noconfirm --needed chromium

echo "export BROWSER=firefox" > /etc/profile.d/browser.sh
xdg-mime default firefox.desktop x-scheme-handler/https
xdg-mime default firefox.desktop x-scheme-handler/http

# terminal stage
pacman -S --noconfirm --needed libxcursor alacritty

# social stage
pacman -S --noconfirm --needed telegram-desktop
install_aur skypeforlinux-stable-bin
install_aur slack-desktop

# design stage

# flameshot does not work without notifications 
pacman -S --noconfirm --needed notification-daemon dunst
runuser -l burkostya -c "mkdir -p ~/screenshots"
pacman -S --noconfirm --needed flameshot

# --skipinteg
install_aur archlinux-java-run

# install gravit
install_aur gconf
# install_aur gravit-designer-bin

install_aur yed
pacman -S --noconfirm --needed dia
pacman -S --noconfirm --needed graphviz

# install drawio-desktop
pacman -S --noconfirm --needed yarn
install_aur drawio-desktop

echo -en "y\nn" | trizen -Scc