#!/bin/bash
set -e

pacman -S --noconfirm ttf-dejavu otf-fira-code

# pacman -S --noconfirm noto-fonts-extra noto-fonts-emoji

pacman -S --noconfirm docker docker-compose docker-machine
# systemctl enable docker
usermod -aG docker burkostya

pacman -S --noconfirm libx264

trizen -S --noconfirm --noedit visual-studio-code-bin
runuser -l burkostya -c "cat $(pwd)/vscode-extensions | xargs -n 1 code --install-extension"

trizen -S --noconfirm --noedit postman-bin

pacman -S --noconfirm iotop sysdig

pacman -S --noconfirm mosh

trizen -S --noconfirm --noedit tldr

pacman -S --noconfirm jq
trizen -S --noconfirm --noedit --needed yq

pacman -S --noconfirm go

pacman -S --noconfirm linux-headers
pacman -S --noconfirm virtualbox virtualbox-host-modules-arch
# trizen -S --noconfirm --noedit virtualbox-ext-oracle
systemctl enable systemd-modules-load
usermod -aG vboxusers burkostya

# Fonts
# trizen -S --noconfirm --noedit nerd-fonts-complete

pacman -S --noconfirm --needed vim

pacman -S --noconfirm --needed dbeaver
pacman -S --noconfirm --needed dbeaver-plugin-office dbeaver-plugin-svg-format

# trizen -S --noconfirm --noedit sos xsos

pacman -S --noconfirm --needed terraform
trizen -S --noconfirm --noedit --needed kubectl-bin kubernetes-helm-bin

pacman -S --noconfirm --needed ansible

pacman -S --noconfirm --needed rsync

trizen -S --noconfirm --noedit --needed python-pip
pip3 install netaddr

pacman -S --noconfirm --needed tinc

trizen -S --noconfirm --noedit --needed perf-tools
pacman -S --noconfirm --needed clang llvm netperf iperf ethtool powertop
pacman -S --noconfirm --needed strace
trizen -S --noconfirm --noedit --needed bcc bcc-tools python-bcc python2-bcc
trizen -S --noconfirm --noedit --needed bpftrace-git fatrace
trizen -S --noconfirm --noedit --needed pygtk swig trace-cmd
trizen -S --noconfirm --noedit --needed flamegraph
trizen -S --noconfirm --noedit --needed ctop

pacman -S --noconfirm --needed syncthing syncthing-gtk

echo -en "y\nn" | trizen -Scc